from zsec_aws_tools.async_tools import map_async
import time

test_fn = lambda x: time.sleep(.1) or x + 1

%timeit sum(map_async(test_fn, range(10), sync=False))
# expected result:
# 108 ms ± 1.73 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)

%timeit sum(map_async(test_fn, range(10), sync=True))
# expected result:
# 1.03 s ± 3.67 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
